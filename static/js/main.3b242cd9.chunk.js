(this.webpackJsonpinventorylistfrontendapi=this.webpackJsonpinventorylistfrontendapi||[]).push([[0],{24:function(t,e,n){},44:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),o=n(18),c=n.n(o),i=(n(24),n(3)),s=n.n(i),u=n(19),p=n(4),l=n(5),d=n(7),f=n.n(d),h=(n(44),n(0));function j(){return(j=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://inventorylistapi.herokuapp.com/items").then((function(t){e(t.data)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return m.apply(this,arguments)}function m(){return(m=Object(l.a)(s.a.mark((function t(e,n){var r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://inventorylistapi.herokuapp.com/items",r={name:e,qty:n},t.next=4,f.a.post("https://inventorylistapi.herokuapp.com/items",r);case 4:return a=t.sent,console.log("db add new row res.data=".concat(a.data)),t.abrupt("return",a.data);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){return(v=Object(l.a)(s.a.mark((function t(e,n){var r,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://inventorylistapi.herokuapp.com/items/"+e.name,a={qty:n},t.next=4,f.a.put(r,a);case 4:return o=t.sent,t.abrupt("return",o.data);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=Object(l.a)(s.a.mark((function t(e){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://inventorylistapi.herokuapp.com/items/"+e,t.next=3,f.a.delete(n);case 3:return r=t.sent,console.log("db remove=".concat(r.data.deletedCount)),t.abrupt("return",r.data.deletedCount);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(){console.log("start of function App.js");var t=Object(r.useState)([]),e=Object(p.a)(t,2),n=e[0],a=e[1];function o(){return(o=Object(l.a)(s.a.mark((function t(e,r){var o,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e,r);case 2:o=t.sent,c={_id:o,name:e,qty:r},a([].concat(Object(u.a)(n),[c]));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function c(t,e){var r={_id:t._id,name:t.name,qty:e},o=n.map((function(e){return e._id===t._id?r:e}));a(o),function(t,e){v.apply(this,arguments)}(t,e)}function i(t){var e=n.filter((function(e){return e._id!==t}));a(e),function(t){O.apply(this,arguments)}(t)}return Object(r.useEffect)((function(){console.log("first useEffect -- run one time to get the starting data"),function(t){j.apply(this,arguments)}(a),console.log(n)}),[]),Object(r.useEffect)((function(){console.log("second useEffect runs whenever the rowDataArray changes"),console.log(n)}),[n]),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"Wrapper",children:[Object(h.jsx)("h1",{children:"Inventory List"}),Object(h.jsx)("p",{children:"React App -> Express / Node server on Heroku -> Mongodb / Atlas"}),Object(h.jsx)(g,{addNewRow:function(t,e){return o.apply(this,arguments)},className:"InputForm"}),Object(h.jsx)("div",{className:"ListContainer",children:Object(h.jsx)("ul",{children:n.map((function(t){return Object(h.jsx)("li",{children:Object(h.jsx)(y,{oneRow:t,remove:i,update:c})},t._id)}))})})]}),Object(h.jsx)(N,{})]})}function y(t){var e=t.oneRow,n=t.remove,a=t.update,o=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object(r.useState)(t),n=Object(p.a)(e,2),a=n[0],o=n[1];return[a,function(){return o(!a)}]}(!1),c=Object(p.a)(o,2),i=c[0],s=c[1];return Object(h.jsx)("div",{children:i?Object(h.jsx)(w,{oneRow:e,update:a,toggle:s}):Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[e.name," : ",e.qty]}),Object(h.jsxs)("span",{className:"ButtonGroup",children:[Object(h.jsx)("button",{className:"Button","aria-label":"Delete",onClick:function(){return n(e._id)},children:"Delete"}),Object(h.jsx)("button",{className:"Button","aria-label":"Edit",onClick:s,children:"Edit"})]})]})})}function g(t){var e=t.addNewRow,n=k(""),r=Object(p.a)(n,3),o=r[0],c=r[1],i=r[2],s=k(""),u=Object(p.a)(s,3),l=u[0],d=u[1],f=u[2],j=a.a.createRef();return Object(h.jsxs)("form",{className:"InputForm",onSubmit:function(t){t.preventDefault(),e(o,l),i(),f(),j.current.focus()},children:[Object(h.jsx)("input",{type:"text",value:o,placeholder:"Type new item name",onChange:c,label:"Add New Item",autoFocus:!0,ref:j}),Object(h.jsx)("input",{type:"text",value:l,placeholder:"Type new quantity",onChange:d,label:"Add New Quantity"}),Object(h.jsx)("button",{type:"submit",children:"Add new item"})]})}function w(t){var e=t.oneRow,n=t.update,r=t.toggle,a=k(e.qty),o=Object(p.a)(a,3),c=o[0],i=o[1],s=o[2];return Object(h.jsxs)("form",{className:"InputForm",onSubmit:function(t){t.preventDefault(),n(e,c),s(),r()},children:[e.name,Object(h.jsx)("input",{type:"text",value:c,onChange:i,label:"Update quantity",autoFocus:!0}),"Press Enter to Update"]})}function k(t){var e=Object(r.useState)(t),n=Object(p.a)(e,2),a=n[0],o=n[1];return[a,function(t){return o(t.target.value)},function(){return o("")}]}function N(){return Object(h.jsxs)("p",{className:"Footer",children:["Simple Inventory List with Mongodb Atlas storage by John Phillips on Febuary 24, 2021. Source at"," ",Object(h.jsx)("a",{href:"https://github.com/profphillips/inventorylistfrontendapi",children:"https://github.com/profphillips/inventorylistfrontendapi"}),". Live page at"," ",Object(h.jsx)("a",{href:"https://profphillips.github.io/inventorylistfrontendapi/",children:"https://profphillips.github.io/inventorylistfrontendapi/"}),"."]})}console.log("in index.js"),c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.3b242cd9.chunk.js.map